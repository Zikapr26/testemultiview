<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>TESTE HELIOS - MULTIVIEW</title>
    <style>
        body { margin: 0; background: #000; color: #fff; font-family: sans-serif; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        #nav { background: #111; padding: 10px; display: flex; gap: 10px; border-bottom: 1px solid #333; }
        #grid { display: grid; flex: 1; gap: 2px; background: #222; }
        
        /* Classes de Layout baseadas na Expedição */
        .g6 { grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(2, 1fr); }
        .g4 { grid-template-columns: repeat(2, 1fr); grid-template-rows: repeat(2, 1fr); }
        .l3 { grid-template-columns: repeat(2, 1fr); grid-template-rows: 1fr 1fr; }
        .l3 .v-box:nth-child(3) { grid-column: span 2; }

        .v-box { background: #000; position: relative; }
        iframe { width: 100%; height: 100%; border: none; }
        .tag { position: absolute; top: 5px; left: 5px; background: rgba(0,0,0,0.8); padding: 2px 5px; font-size: 10px; border-radius: 3px; }
        
        button { background: #ff0000; color: #fff; border: none; padding: 6px 12px; cursor: pointer; font-weight: bold; border-radius: 4px; }
        .btn-layout { background: #333; }
    </style>
</head>
<body>

    <div id="nav">
        <button onclick="sync()">SINCRO LIVES</button>
        <button class="btn-layout" onclick="change('g6')">GRADE 6</button>
        <button class="btn-layout" onclick="change('g4')">GRADE 4</button>
        <button class="btn-layout" onclick="change('l3')">LAYOUT 3</button>
    </div>

    <div id="grid" class="g6">
        <div class="v-box"><div class="tag">RICHARD</div><iframe id="v1"></iframe></div>
        <div class="v-box"><div class="tag">RATO B.</div><iframe id="v2"></iframe></div>
        <div class="v-box"><div class="tag">CARIANI</div><iframe id="v3"></iframe></div>
        <div class="v-box"><div class="tag">ACF</div><iframe id="v4"></iframe></div>
        <div class="v-box"><div class="tag">TONIMEK</div><iframe id="v5"></iframe></div>
        <div class="v-box"><div class="tag">GORDOX</div><iframe id="v6"></iframe></div>
    </div>

    <script>
        const API_KEY = "AIzaSyCQq0x3oD1kOWt2ZNgIhD-Y75nxIK3Z2gI";
        const IDS = [
            "UC-lHJZR3Gqxm24_Vd_AJ5Yw", "UC0uYV778E2GTo6W8U6u220w", "UCPY9OndS0GqL9YofV_8B9_w",
            "UCxI-mD7-S1vshLh9LpX8Oog", "UCX9H70qU1R3eK3c9NnOasTg", "UC57f9p_v0m3Gq80M09Hl_Bg"
        ];

        async function sync() {
            for(let i=0; i<IDS.length; i++) {
                const f = document.getElementById('v' + (i+1));
                try {
                    // Busca ID da live
                    const r = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${IDS[i]}&type=video&eventType=live&key=${API_KEY}`);
                    const d = await r.json();
                    if(d.items && d.items.length > 0) {
                        f.src = `https://www.youtube.com/embed/${d.items[0].id.videoId}?autoplay=1&mute=1`;
                    } else {
                        // Backup
                        f.src = `https://www.youtube.com/embed/live_stream?channel=${IDS[i]}&autoplay=1&mute=1`;
                    }
                } catch(e) { console.error("Erro"); }
            }
        }

        function change(l) {
            const g = document.getElementById('grid');
            const b = document.querySelectorAll('.v-box');
            g.className = l;
            b.forEach((box, i) => {
                box.style.display = "block";
                if(l === 'g4' && i >= 4) box.style.display = "none";
                if(l === 'l3' && i >= 3) box.style.display = "none";
            });
        }
        window.onload = sync;
    </script>
</body>
</html>
